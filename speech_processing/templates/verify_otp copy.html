{% load static %} <!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Verify OTP | TranscribeHub</title> <link rel="stylesheet" href="{% static 'style.css' %}"> <link rel="stylesheet"

pasted

VERIFY BUTTON COMING AT RIGHT SIDE I WANT THIS IN CENTER ALSO I WANT THE PAGE MORE ATTRACTIVE can you make the page more popped up and any welcome note while verifying

Edit


I'll help you center the verify button and make the entire page more attractive with some enhancements and a welcome note. Let me create an updated version of your OTP verification page.


Enhanced OTP Verification Page
Interactive artifact 




can you make the page more popped up and any welcome note while verifying

{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verify OTP | TranscribeHub</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
   <style>
    :root {
            --primary: #3498db; /* Vivid Sky Blue */
            --primary-dark: #1d4e89; /* Rich Deep Blue */
            --secondary: #00d4ff; /* Electric Cyan */
            --dark: #0b132b; /* Midnight Blue */
            --grey: #7f8c8d; /* Muted Blue-Grey */
            --light-grey: #bdc3c7; /* Cool Fog Blue */
            --light: #d6dee4; /* Soft Sky Blue */
            --white: #ffffff;
            --danger: #e74c3c;
            --success: #2ecc71;
            --warning: #f39c12;
            --border-radius: 8px;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            --bg-color: #f0f4f8;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--dark);
            line-height: 1.6;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(52, 152, 219, 0.05) 0%, transparent 200px),
                radial-gradient(circle at 70% 60%, rgba(0, 212, 255, 0.05) 0%, transparent 200px);
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        
        /* Header Styles */
        header {
            background-color: var(--white);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--primary-dark);
            font-weight: 700;
            font-size: 1.3rem;
            text-decoration: none;
            transition: transform 0.2s ease;
        }

        .logo:hover {
            transform: translateY(-2px);
        }
        
        .logo svg {
            stroke: var(--primary);
        }
        
        .nav-links {
            display: flex;
            gap: 1.8rem;
        }
        
        .nav-links a {
            color: var(--dark);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.95rem;
            position: relative;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }
        
        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 75%, var(--dark) 100%);
            color: var(--white);
            padding: 5rem 2rem;
            text-align: center;
            border-radius: 0 0 30px 30px;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 6px 30px rgba(29, 78, 137, 0.2);
        }
        
        .hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="none"/><path d="M0 50 Q 25 0, 50 50 T 100 50" fill="none" stroke="rgba(255,255,255,0.15)" stroke-width="3"/></svg>');
            background-size: 200px;
            opacity: 0.7;
            animation: waveBg 20s linear infinite;
        }

        .hero::after {
            content: "";
            position: absolute;
            top: 0;
            left: -50%;
            width: 200%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: skewX(-25deg);
            animation: shimmer 5s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%) skewX(-25deg); }
            100% { transform: translateX(100%) skewX(-25deg); }
        }
        
        @keyframes waveBg {
            0% { background-position: 0 0; }
            100% { background-position: 400px 0; }
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 760px;
            margin: 0 auto;
        }
        
        .hero h1 {
            font-size: 2.8rem;
            margin-bottom: 1.2rem;
            font-weight: 800;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            letter-spacing: -0.02em;
            background: linear-gradient(120deg, #ffffff, #e0f7ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }
        
        .hero p {
            font-size: 1.35rem;
            opacity: 0.95;
            max-width: 650px;
            margin: 0 auto;
            line-height: 1.5;
        }
        
        /* OTP Verification Card */
        .card, .login-card {
            background: var(--white);
            border-radius: var(--border-radius);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            padding: 2.5rem;
            max-width: 520px;
            margin: -100px auto 4rem;
            position: relative;
            z-index: 3;
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            border: 1px solid rgba(206, 212, 218, 0.3);
            backdrop-filter: blur(10px);
            background: linear-gradient(145deg, rgba(255, 255, 255, 1), rgba(247, 250, 252, 0.95));
        }
        
        .card:hover, .login-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        /* Verification Icon */
        .verification-icon {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 50%;
            box-shadow: 0 10px 25px rgba(52, 152, 219, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 2rem;
        }
        
        h2 {
            color: var(--dark);
            margin-top: 2.2rem;
            font-size: 1.85rem;
            margin-bottom: 0.75rem;
            font-weight: 700;
            text-align: center;
        }
        
        .subtext {
            color: var(--grey);
            margin-bottom: 2.2rem;
            font-size: 1.05rem;
            text-align: center;
        }
        
        /* Welcome Note */
        .welcome-note {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1) 0%, rgba(0, 212, 255, 0.1) 100%);
            border-radius: var(--border-radius);
            padding: 1.2rem;
            margin-bottom: 2rem;
            border-left: 4px solid var(--primary);
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .welcome-note h3 {
            color: var(--primary-dark);
            font-size: 1.2rem;
            margin: 0 0 0.5rem;
        }
        
        .welcome-note p {
            margin: 0;
            color: var(--dark);
            font-size: 0.95rem;
        }
        
        /* OTP Input Container */
        .otp-container {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 2rem;
        }
        
        .otp-input {
            width: 50px;
            height: 60px;
            padding: 1rem 0;
            border: 2px solid var(--light);
            border-radius: var(--border-radius);
            text-align: center;
            font-size: 1.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            background-color: rgba(240, 244, 248, 0.5);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .otp-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(52, 152, 219, 0.25);
            background-color: var(--white);
            transform: translateY(-2px);
        }
        
        .form-group {
            margin-bottom: 2rem;
            position: relative;
        }
        
        label {
            display: block;
            margin-bottom: 0.6rem;
            font-weight: 600;
            color: var(--dark);
            font-size: 0.95rem;
            text-align: center;
        }
        
        /* OTP Timer */
        .otp-timer {
            text-align: center;
            margin: 1.5rem 0;
            color: var(--grey);
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 0.8rem;
            background-color: rgba(240, 244, 248, 0.5);
            border-radius: var(--border-radius);
        }
        
        .timer-icon {
            color: var(--warning);
        }
        
        /* Buttons */
        .btn, .cta-button {
            display: block;
            width: 100%;
            padding: 1rem 1.8rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: var(--white);
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 189, 255, 0.3);
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover, .cta-button:hover {
            background: linear-gradient(135deg, var(--primary) 20%, var(--secondary) 100%);
            box-shadow: 0 6px 16px rgba(0, 189, 255, 0.4);
            transform: translateY(-2px);
        }
        
        .btn:active, .cta-button:active {
            transform: scale(0.98);
        }

        .btn::after, .cta-button::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: rotate(45deg);
            animation: buttonShimmer 3s infinite;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .btn:hover::after, .cta-button:hover::after {
            opacity: 1;
        }
        
        @keyframes buttonShimmer {
            0% { transform: rotate(45deg) translateX(-100%); }
            100% { transform: rotate(45deg) translateX(100%); }
        }
        
        .btn i, .cta-button i {
            margin-right: 10px;  
        }
        
        /* Resend Link */
        .resend-container {
            text-align: center;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--light);
        }
        
        .resend-link {
            display: inline-block;
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            transition: all 0.3s ease;
        }
        
        .resend-link:hover {
            background-color: rgba(52, 152, 219, 0.1);
            transform: translateY(-2px);
        }
        
        .resend-link.disabled {
            color: var(--grey);
            cursor: not-allowed;
            pointer-events: none;
        }
        
        /* Messages & Alerts */
        .alert, .error-message {
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 12px;
            animation: fadeIn 0.5s ease-out;
        }
        
        .alert-danger, .error-message {
            background-color: rgba(231, 76, 60, 0.12);
            border-left: 4px solid var(--danger);
            color: var(--danger);
        }
        
        .alert-success {
            background-color: rgba(46, 204, 113, 0.12);
            border-left: 4px solid var(--success);
            color: var(--success);
        }
        
        .alert-warning {
            background-color: rgba(243, 156, 18, 0.12);
            border-left: 4px solid var(--warning);
            color: var(--warning);
        }
        
        .alert-info {
            background-color: rgba(52, 152, 219, 0.12);
            border-left: 4px solid var(--primary);
            color: var(--primary);
        }
        
        /* Success Message */
        .success-message {
            display: none;
            text-align: center;
            color: var(--success);
            margin: 2rem 0;
            padding: 1.8rem;
            background: linear-gradient(135deg, rgba(46, 204, 113, 0.1) 0%, rgba(26, 188, 156, 0.1) 100%);
            border-radius: var(--border-radius);
            border: 1px solid rgba(46, 204, 113, 0.3);
            animation: successPulse 2s infinite;
        }
        
        @keyframes successPulse {
            0% { box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(46, 204, 113, 0); }
            100% { box-shadow: 0 0 0 0 rgba(46, 204, 113, 0); }
        }
        
        .success-message i {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            animation: bounceIcon 1s ease-in-out;
        }
        
        @keyframes bounceIcon {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }
        
        .success-message h3 {
            margin-bottom: 0.5rem;
            color: var(--dark);
            font-size: 1.5rem;
        }
        
        /* Simplified Footer */
        footer {
            background-color: var(--white);
            padding: 3.5rem 0 2.5rem;
            text-align: center;
            color: var(--grey);
            position: relative;
            margin-top: 4rem;
            box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.03);
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
            margin-bottom: 1.2rem;
        }
        
        .footer-links a {
            color: var(--dark);
            text-decoration: none;
            font-size: 0.95rem;
            transition: color 0.2s;
            font-weight: 500;
        }
        
        .footer-links a:hover {
            color: var(--primary);
        }
        
        .copyright {
            font-size: 0.9rem;
        }
        
        /* Animation Classes */
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(52, 152, 219, 0.4);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(52, 152, 219, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(52, 152, 219, 0);
            }
        }
        
        /* Responsive Styles */
        @media (max-width: 768px) {
            .hero {
                padding: 3.8rem 1.5rem;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .card, .login-card {
                padding: 2rem;
                margin-top: -70px;
            }
            
            .otp-input {
                width: 40px;
                height: 50px;
            }
            
            .footer-links {
                gap: 1.5rem;
            }
        }
        
        @media (max-width: 480px) {
            nav {
                padding: 1rem;
                flex-wrap: wrap;
            }
            
            .nav-links {
                gap: 1.2rem;
                flex-wrap: wrap;
                justify-content: center;
                margin-top: 1rem;
            }
            
            .hero {
                padding: 3rem 1rem;
                border-radius: 0 0 15px 15px;
            }
            
            .hero h1 {
                font-size: 1.9rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .card, .login-card {
                padding: 1.5rem;
                margin-left: 1rem;
                margin-right: 1rem;
            }
            
            .otp-input {
                width: 35px;
                height: 45px;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header>
        <nav>
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                     viewBox="0 0 24 24" fill="none" stroke="currentColor"
                     stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                </svg>
                <span>TranscribeHub</span>
            </div>
            <div class="nav-links">
                <a href="{% url 'index' %}">Home</a>
                <a href="#" title="Help & Support"><i class="fas fa-question-circle"></i> Help</a>
            </div>
        </nav>
    </header>
    
    <!-- Hero Banner -->
    <section class="hero">
        <div class="hero-content">
            <h1>Verify Your Account</h1>
            <p>We're ensuring your academic credentials are secure</p>
        </div>
    </section>
    
    <!-- OTP Verification Section -->
    <main>
        <div class="container">
            <div class="login-card">
                <div class="verification-icon pulse">
                    <i class="fas fa-shield-alt"></i>
                </div>
                
                <h2>Enter Verification Code</h2>
                <p class="subtext">
                    We've sent a 6-digit code to your academic email address.<br>
                    The code will expire in 2 minutes.
                </p>
                
                <!-- Welcome Note -->
                <div class="welcome-note">
                    <h3><i class="fas fa-hand-sparkles"></i> Welcome to TranscribeHub!</h3>
                    <p>Thank you for joining our academic transcription community. We're just one step away from unlocking all features for you. Please verify your email to continue.</p>
                </div>
                
                <form method="post" id="otpForm">
                    {% csrf_token %}
                    
                    <div class="form-group">
                        <label for="otp-input-1">Verification Code</label>
                        <div class="otp-container">
                            <input type="text" class="otp-input" id="otp-input-1" maxlength="1" autocomplete="off" autofocus>
                            <input type="text" class="otp-input" id="otp-input-2" maxlength="1" autocomplete="off">
                            <input type="text" class="otp-input" id="otp-input-3" maxlength="1" autocomplete="off">
                            <input type="text" class="otp-input" id="otp-input-4" maxlength="1" autocomplete="off">
                            <input type="text" class="otp-input" id="otp-input-5" maxlength="1" autocomplete="off">
                            <input type="text" class="otp-input" id="otp-input-6" maxlength="1" autocomplete="off">
                        </div>
                        <input type="hidden" id="otp" name="otp" required>
                    </div>
                    
                    <div class="otp-timer" title="Time remaining before code expires">
                        <i class="fas fa-clock timer-icon"></i>
                        <span>Code expires in: <strong id="countdown">2:00</strong></span>
                    </div>
                    
                    <button type="submit" class="cta-button" id="verifyButton">
                        <i class="fas fa-lock"></i> Verify & Continue
                    </button>
                </form>
                
                <div class="success-message" id="successMessage">
                    <i class="fas fa-check-circle"></i>
                    <h3>Verification Successful!</h3>
                    <p>Your identity has been verified. Redirecting to upload page...</p>
                </div>
                
                <div class="resend-container">
                    <a href="#" class="resend-link" id="resendLink">
                        <i class="fas fa-paper-plane"></i> Didn't receive a code? Send again
                    </a>
                </div>
                
                {% if messages %}
                    {% for message in messages %}
                        <div class="error-message">
                            <i class="fas fa-exclamation-circle"></i>
                            <span>{{ message }}</span>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 TranscribeHub | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a> | <a href="#">Contact Support</a></p>
        </div>
    </footer>
    <script>
    document.addEventListener('DOMContentLoaded', function () {
        startCountdown();
        setupOtpInputs();
        setupFormSubmit();
        setupResendLink();
    });

    // Countdown timer function (2 minutes)
    function startCountdown() {
        let minutes = 2;
        let seconds = 0;
        const countdownEl = document.getElementById('countdown');
        const resendLink = document.getElementById('resendLink');

        const interval = setInterval(function () {
            if (seconds === 0) {
                if (minutes === 0) {
                    clearInterval(interval);
                    countdownEl.textContent = "Expired";
                    countdownEl.style.color = "#e74c3c";
                    countdownEl.parentElement.style.color = "#e74c3c";

                    resendLink.classList.remove('disabled');
                    return;
                }
                minutes--;
                seconds = 59;
            } else {
                seconds--;
            }

            const formattedMinutes = minutes.toString().padStart(2, '0');
            const formattedSeconds = seconds.toString().padStart(2, '0');
            countdownEl.textContent = `${formattedMinutes}:${formattedSeconds}`;

            if (minutes < 2) {
                countdownEl.style.color = "#f39c12";
            }
        }, 1000);
    }

    // Handle OTP inputs
    function setupOtpInputs() {
        const inputs = document.querySelectorAll('.otp-input');
        const hiddenInput = document.getElementById('otp');

        inputs.forEach((input, index) => {
            input.addEventListener('input', function (e) {
                const value = e.target.value;
                if (/^\d*$/.test(value)) {
                    if (value !== '' && index < inputs.length - 1) {
                        inputs[index + 1].focus();
                    }
                    updateHiddenInput();
                } else {
                    e.target.value = '';
                }
            });

            input.addEventListener('keydown', function (e) {
                if (e.key === 'Backspace' && !e.target.value && index > 0) {
                    inputs[index - 1].focus();
                    inputs[index - 1].value = '';
                    updateHiddenInput();
                }
            });

            input.addEventListener('paste', function (e) {
                e.preventDefault();
                const pastedData = e.clipboardData.getData('text');
                if (/^\d+$/.test(pastedData)) {
                    const digits = pastedData.slice(0, inputs.length).split('');
                    inputs.forEach((input, i) => {
                        input.value = digits[i] || '';
                    });
                    inputs[Math.min(digits.length, inputs.length) - 1].focus();
                    updateHiddenInput();
                }
            });
        });

        function updateHiddenInput() {
            const otpValue = Array.from(inputs).map(input => input.value).join('');
            hiddenInput.value = otpValue;

            const verifyButton = document.getElementById('verifyButton');
            if (otpValue.length === 6) {
                verifyButton.classList.add('pulse');
            } else {
                verifyButton.classList.remove('pulse');
            }
        }
    }

    // Handle OTP form submission
    function setupFormSubmit() {
        const form = document.getElementById('otpForm');
        const successMessage = document.getElementById('successMessage');

        form.addEventListener('submit', function (e) {
            e.preventDefault();
            const otp = document.getElementById('otp').value;

            if (otp.length === 6 && /^\d+$/.test(otp)) {
                form.style.display = 'none';
                successMessage.style.display = 'block';

                setTimeout(() => {
                    window.location.href = "{% url 'upload' %}";  // ✅ Real redirect
                }, 3000);
            } else {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error-message';
                errorDiv.innerHTML = '<i class="fas fa-exclamation-circle"></i><span>Please enter a valid 6-digit code</span>';

                const existingError = document.querySelector('.error-message');
                if (existingError) {
                    existingError.remove();
                }

                form.appendChild(errorDiv);
            }
        });
    }

    // Handle resend OTP link
    function setupResendLink() {
    const resendLink = document.getElementById('resendLink');

    resendLink.addEventListener('click', function (e) {
        e.preventDefault();
        resendLink.classList.add('disabled');
        resendLink.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending new code...';

        fetch('/resend-otp/', {
            method: 'POST',
            headers: {
                'X-CSRFToken': getCookie('csrftoken'),
                'Content-Type': 'application/json'
            }
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // Reset OTP inputs
                const inputs = document.querySelectorAll('.otp-input');
                inputs.forEach(input => input.value = '');
                document.getElementById('otp').value = '';
                inputs[0].focus();

                const countdownEl = document.getElementById('countdown');
                countdownEl.textContent = '02:00';
                countdownEl.style.color = '';
                countdownEl.parentElement.style.color = '';

                resendLink.innerHTML = '<i class="fas fa-paper-plane"></i> Code resent! Send again';

                const notification = document.createElement('div');
                notification.className = 'error-message';
                notification.style.backgroundColor = 'rgba(46, 204, 113, 0.1)';
                notification.style.borderLeftColor = '#2ecc71';
                notification.style.color = '#2ecc71';
                notification.innerHTML = '<i class="fas fa-check-circle"></i><span>A new verification code has been sent to your email</span>';

                const form = document.getElementById('otpForm');
                form.appendChild(notification);

                setTimeout(() => {
                    notification.style.opacity = '0';
                    setTimeout(() => notification.remove(), 500);
                }, 3000);

                startCountdown();
            } else {
                alert('Failed to resend OTP: ' + data.error);
            }
        });
    });
}

// Get CSRF token from cookie
function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.startsWith(name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}
</script>
</body>
</html>